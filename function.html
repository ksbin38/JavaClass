<!DOCTYPE html>
<html kang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    </head>
    <body>
        <div>시작</div>
        <ul>
            <li>항목1</li>
            <li>항목2</li>
        </ul>
        <div>끝</div>
        <div id="elem">
            <div id="elem-content">Element</div>
        </div>
        <script>
            const v = Number("100");
            console.log(typeof v); // number
            const u = Number("100px");
            console.log(u); // NaN(Not a Number)
            let w = "100px";
            w = parseInt(w);
            console.log(w); // 100
            w = parseFloat("12.5rem");
            console.log(w); // 12.5
            w = parseFloat("12.3.4");
            console.log(w); // 12.3
            w = parseInt("a123");
            console.log(w); // NaN

            console.log(Math.random()); // 0.0 ~ 1 사이 랜덤(1 안나옴)
            console.log(Math.max(1, 4, 5, 2, 3)); // 5
            console.log(Math.min(1, 4, 5, 2, 3)); // 1
            // 앞쪽 파라미터 값을 뒷쪽 파라미터 값 거듭제곱
            console.log(Math.pow(2, 10)); // 1024
            // 소수 첫째자리까지 반올림
            console.log((1.35).toFixed(1)); // 1.4

            let str = "widget with id";
            console.log(str.indexOf("widget")); // 0(0번째에 나와서)
            console.log(str.indexOf("Widget")); // -1(존재하지 않음)
            console.log(str.indexOf("id")); // 1(widget의 id로 찾아서 1번째)
            console.log(str.indexOf("id", 2)); // 12(2번째 이후부터 찾아서 12번째로 결과값 도출)
            if (str.indexOf("widget") != -1) {
                console.log("found");
            }
            console.log(str.includes("widget")); // true
            console.log(str.startsWith("w")); // true
            console.log(str.endsWith("id")); // true
            console.log(str.slice(0, 5)); // widge(0번째부터 5개만 잘라서 출력)
            console.log(str.slice(5)); // t with id(5개 자르고 그 이후부터 출력)
            console.log(str.slice(-4, -1)); // h i(뒤에서부터 추출 가능)

            // let arr = []; 또는 new Array(); >> []로 선언하는것을 지향한다.
            // 배열의 끝에는 쉼표를 붙여주자
            let arr = ['사과', '오렌지', '자두',];
            console.log(arr[0]); // 사과
            arr[2] = '배';
            console.table(arr); // '사과', '오렌지', '배'
            console.log(arr.length); // 3

            let arr1 = ['사과', {name: "홍길동"}, 
                function () {
                    console.log("안녕");
                },
            ];
            console.log(arr1[1].name); // 홍길동
            console.log(arr1[2]()); // 안녕

            // 배열의 맨 끝 삭제
            arr.pop();
            console.table(arr); // '사과', '오렌지'
            // 배열의 맨 끝 추가
            arr.push('수박');
            console.table(arr); // '사과', '오렌지', '수박'
            // 배열의 맨 앞 삭제
            arr.shift();
            console.table(arr); // '오렌지', '수박'
            // 배열의 맨 앞 추가
            arr.unshift('오렌지');
            console.table(arr); // '오렌지', '오렌지', '수박'
            // 여러개 추가가능
            arr.push('사과', '포도');
            arr.unshift('참외', '메론');
            console.table(arr); // '참외', '메론', '오렌지', '오렌지', '수박', '사과', '포도'
            // 삭제와 추가 같이하기
            arr.splice(1, 1, '복숭아', '토마토'); // 1번째에서 1개 지우고 1번째에 '복숭아', '토마토' 추가
            console.table(arr); // '참외', '복숭아', '토마토', '오렌지', '오렌지', '수박', '사과', '포도'
            for (let i = 0; i < arr.length; i++) {
                console.log(arr[i]);
            }
            // for ~ of >> 현재 배열 요소의 index 값은 얻을 수 없다
            for (let item of arr) {
                console.log(item);
            }

            let arr2 = new Array(2);
            console.log(arr2.length); // 2
            console.log(arr2[0]); // undefined(배열의 크기만 설정하고 내용은 없어서)

            let arr3 = ["사과", "배", "오렌지", "포도"];
            // slice(startIndex, endIndex)로 새로운 배열 만들기
            let arr4 = arr3.slice(0, 3);
            console.table(arr4); // '사과', '배', '오렌지'
            // concat >> 배열 합치기
            let arr5 = arr3.concat(arr4);
            console.table(arr5); // '사과', '배', '오렌지', '포도', '사과', '배', '오렌지'
            // forEach >> 배열 내용과 위치(몇번째인지) 확인
            arr3.forEach((item, index) => {
                console.log(item + " // " + index);
            });

            let users = [
                {id: 1, name: "홍길동"},
                {id: 2, name: "철수"},
                {id: 3, name: "영희"},
            ];
            // users 배열 출력하는 두가지 방법
            for (let i = 0; i < users.length; i++) {
                console.log(users[i].id + " // " + users[i].name);
            }
            users.forEach((item, index) => {
                console.log(item.id + " // " + item.name);
            });
            // find >> 특정 1개의 요소 찾아서 반환
            const user = users.find((item) => {
                return item.id === 1
            }); // 한줄일 경우 중괄호와 return 생략 가능
            console.table(user); // 1, 홍길동
            // filter 특정 n개의 요소 찾아서 반환
            const user1 = users.filter(item => item.id < 3);
            console.table(user1);
            // sort 배열 정렬
            const nums = [1, 2, 15];
            nums.sort();
            console.log(nums); // 1, 15, 2 >> 정렬시 문자로 취급하기 때문, 함수를 별도로 만들어야된다
            function compareNumeric(a, b) {
                // 첫번째 값이 두번째 값보다 클 때
                if (a > b) return 1;
                // 두 값이 같은 경우
                if (a == b) return 0;
                // 첫번째 값이 두번째 값보다 작을 때
                if (a < b) return -1;
            }
            nums.sort(compareNumeric);
            console.log(nums); // 1, 2, 15


            function filterRangeInPlace(arr, a, b) {
                for (let i = 0; i < arr.length; i++) {
                    let val = arr[i];
                
                    // 범위 밖 요소 제거
                    if (val < a || val > b) {
                        arr.splice(i, 1);
                        i--; // 제거했으니 다시 제거한 위치부터 확인해야함
                    }
                }
            }
            let arr10 = [5, 3, 8, 1];
            //1과 4 사이에 있지 않은 요소는 모두 제거
            filterRangeInPlace(arr10, 1, 4);
            console.log(arr10);

            let john = {name: 'John', surname: 'Smith', id: 1};
            let pete = {name: 'Pete', surname: 'Hunt', id: 2};
            let mary = {name: 'Mary', surname: 'Key', id: 3};
            let users1 = [john, pete, mary];

            let usersMapped = users1.map((user) => ({
                fullName: user.name + " " + user.surname, id: user.id,
            }));
            console.log(usersMapped); // name+surname 합쳐져서 출력됨

            // 객체 - 키가 있는 컬렉션
            // 배열 - 순서가 있는 컬렉션
            // 맵 - 키가 있는 컬렉션. 맵은 키에 다양한 자료형을 허용한다.
            // new Map() - 맵을 만든다
            // map.set(key, value) - key를 이용해서 value를 저장한다
            // map.get(key) - key에 해당하는 값을 반환한다. key가 존재하지 않으면 undefined를 반환
            // map.has(key) - key가 존재하면 true, 아니면 false 반환
            // map.delete(key) - key에 해당하는 값 삭제
            // map.clear() - 맵 안의 모든 요소 삭제
            // map.size - 요소의 갯수 반환
            let map = new Map();
            // set 한번에 여러개 가능
            map.set('1', 'str1') // 문자형키
            .set(1, 'num1') // 숫자형키
            .set(true, 'bool1'); // bool형 키
            console.log(map.get("1")); // str1
            console.log(map.get(1)); // num1
            console.log(map.get(true)); // bool1
            console.log(map.size); // 3
            console.log(map);

            // 맵에서는 키로 객체를 허용한다
            let eric = {name: "Eric"};
            let nameMap = new Map();
            nameMap.set(eric, 123);
            console.log(nameMap.get(eric)); // 123

            let recipeMap = new Map([
                ['cucumber', 500],
                ['tomatoes', 350],
                ['onion', 50],
            ]);
            // 키(vegetable)를 대상으로 순회
            for (let vegetable of recipeMap.keys()) {
                console.log(vegetable); // 키(채소)만 출력
            }
            // 값(amount)을 대상으로 순회
            for (let amount of recipeMap.values()) {
                console.log(amount); // 값만 출력
            }
            // [키, 값](entry) 쌍을 대상으로 순회
            for (let entry of recipeMap) {
                console.log(entry); // 배열 모두 출력
            }
            recipeMap.forEach((value, key, map) => {
                console.log(key, value); // 배열형태는 아니지만 배열 값 모두 출력
            });

            let obj = {
                name: "John",
                age: 30,
            };
            // Object.entries >> 객체를 맵으로 변경
            let objMap = new Map(Object.entries(obj));
            console.log(objMap.get("name")); // John
            // Object.fromEntires >> 맵을 객체로 변경
            let map10 = new Map();
            map10.set('banana', 1);
            map10.set('orange', 2);
            map10.set('meat', 4);
            console.log(map10);
            let obj10 = Object.fromEntries(map10.entries());
            console.log(obj10); // {banana: 1, orange: 2, meat: 4}

            // Template Literal 템플릿 리터링
            // ES5
            let name = "John";
            let greeting = "Hello " + name;
            console.log(greeting);
            // ES6
            let a = 1;
            let b = 1;
            let sum = a + " + " + b  + " = " + (a + b);
            console.log(sum);
            sum = `1 + 1 = ${a + b}`;
            console.log(sum);

            // ES5
            let html = '';
            html += "<ul>";
                html += "<li>사람이름 / 나이</li>";
                html += "<li>사람이름 / 나이</li>";
                html += "<li>사람이름 / 나이</li>";
            html += "</ul>";
            console.log(html);
            // ES6
            html = `
            <ul>
                <li>사람이름 / 나이</li>
                <li>사람이름 / 나이</li>
                <li>사람이름 / 나이</li>
            </ul>
            `;
            console.log(html);
            const test = (a) => 1 + 1;
            const info = {
                name: 'test',
                age: 100,
            }
            html = `
            <ul>
                <li>${test}</li>
                <li>${info.name}</li>
                <li>${info.age}</li>
            </ul>
            `;
            console.log(html);

            // *** destructing 구조 분해 할당 ***
            let arr20 = ["길동", "홍"];
            let [firstName, surName] = arr20;
            console.log(firstName); // 길동
            console.log(surName); // 홍
            let [f, s] = "길동 홍".split(' ');
            console.log(f, s); // 길동 홍
            // 쉼표 사용 시 요소 무시
            let [x, y, z] = [1, 2, 3];
            console.log(x, z); // 1 3
            let [c, d, e] = "cde";
            console.log(c, d, e); // c d e
            let [one, two, three] = new Set([1, 2, 3]);
            console.log(one, two, three);
            let user10 = {};
            [user10.name, user10.surname] = "길동 홍".split(" ");
            console.log(user10.name); // 길동
            let user11 = new Map();
            user11.set("name", "길동");
            user11.set("surname", "홍");
            for (let [key, value] of user11) {
                console.log(`${key} // ${value}`);
            } // name // 길동, surname // 홍
            // 객체 분해하기
            let option = {
                title: "메뉴",
                width: 100,
                height: 200,
            };
            console.log(option.title);
            // title: t >> title as t
            let {title: t, width, height} = option; // let title = option.title, width = option.width, height = option.height;
            console.log(t);
            console.log(width);
            console.log(height);
            // let option2 = {
            // title: "메뉴",
            // }
            // let {title, width: wid = 100, height: hei = 200} = option2;
            // console.log(title);
            // console.log(wid);
            let option2 = {
                size: {
                    width1: 100,
                    height1: 200,
                },
                items: ["cake", "donut"],
                extra: true,
            };
            let {
                size: {width1, height1},
                items: [item1, item2],
                title1 = "타이틀",
            } = option2;
            console.log(width1, height1);
            console.log(item1, item2);
            console.log(title1);

            function showMenu(title2 = 'untitled', width2 = 100, height2 = 200, items2 = []) {
                //
            }
            showMenu("my menu", undefined, undefined, ['item1', 'item2']);
            let options = {
                title: "my title",
                items: ["item1", "item2"],
            };
            function showMenu2({
                title = "untitled",
                width = 200,
                height = 100,
                items = [],
            }) {
                console.log(`${title} ${width} ${height}`);
                console.log(items);
            };
            showMenu2(options);

            // 웹 브라우저는 window라는 루트 객체가 있다.
            // 1. 자바스크립트 코드의 전역 객체
            // 2. 브라우저 창을 대변하고 이를 제어하는 메서드를 제공
            // 전역 함수
            function sayHi() {
                console.log("안녕하세요.");
            }
            // 전역 함수는 전역 객체(window)의 메서드
            window.sayHi();
            console.log(window.innerHeight);

            // 문서 객체 모델(DOM >> Document Object Model)
            // document: document 객체는 페이지의 기본 진입점 역할을 한다.
            // document 객체를 이용해서 페이지 내 뭐든 간에 다 조작할 수 있다. 만들수도 있다.
            // 배경을 빨간색으로 변경
            document.body.style.background = 'red';
            // 1초 후에 원복
            // setTimeout(할일, 1000); >> 1초후에 할일 선언
            setTimeout(() => document.body.style.background = "", 1000);

            // 브라우저 객체 모델(BOM >> Browse Object Model)
            // 문서 이외의 모든 것을 제어하기 위해 브라우저가 제공하는 추가 객체
            // 현재 url 출력
            console.log(location.href);
            // location.href = 'https://www.google.com'
            if (confirm('구글로 이동하시겠습니까?')) {
                location.href = 'https://www.google.com';
            }
            console.log(navigator);
            console.log(document.documentElement);
            console.log(document.body);
            console.log(document.head);

            // childNodes
            // for (let i = 0; i < document.body.childNodes.length; i++) {
            //     console.log(document.body.childNodes[i]);
            // }
            // console.log(document.body.childNodes[2]);
            for (let node of document.body.childNodes) {
                console.log(node);
            }

            // getElement*, querySelector* 요소 검색하기
            // const elem = document.getElementById('elem');
            elem.style.background = "blue"; // 선언을 안해도 스크립트가 아이디를 알아서 탐색한다 >> 쓰지마셈
            
        </script>
    </body>
</html>